@page "/contact"
@using EmployeeBlazorCRUD.Data
@using BlazorBootstrap

<h3>Contact</h3>
<form @onsubmit="HandleSubmit">
    <div class="form-group">
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" class="form-control" @bind="newContact.FirstName" />
        <ValidationMessage For="@(() => newContact.FirstName)" />
    </div>
    <div class="form-group">
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" class="form-control" @bind="newContact.LastName" />
        <ValidationMessage For="@(() => newContact.LastName)" />
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input type="text" id="email" class="form-control" @bind="newContact.Email" />
        <ValidationMessage For="@(() => newContact.Email)" />
    </div>
    <div class="form-group">
        <label for="phone">Phone</label>
        <input type="text" id="phone" class="form-control" @bind="newContact.Phone" />
        <ValidationMessage For="@(() => newContact.Phone)" />
    </div>
    <div class="form-group">
        <label for="message">Message</label>
        <textarea id="message" class="form-control" @bind="newContact.Message"></textarea>
        <ValidationMessage For="@(() => newContact.Message)" />
    </div>

    <div class="form-group">
        <Button Color="ButtonColor.Primary" type="submit">Save changes</Button>
    </div>
</form>

@code {
    private Contact newContact = new();

    [Inject]
    private ContactService contactService { get; set; }

    private async Task HandleSubmit()
    {
        // Add contact to database
        await contactService.AddNewContact(newContact);


    }
}
